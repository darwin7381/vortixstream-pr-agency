# âœ… ç®¡ç†å¾Œå°æœ€çµ‚ä¿®å¾©

## ğŸ¯ ä¿®å¾©çš„å•é¡Œ

### âœ… å•é¡Œ 1ï¼šPR Package ç·¨è¼¯é é¢è¼‰å…¥å¤±æ•—
**åŸå› ï¼š** è·¯ç”±ä½¿ç”¨çš„æ˜¯ `slug`ï¼Œä½†ç¨‹å¼ç¢¼å˜—è©¦ç”¨ `Number(id)` èª¿ç”¨ API
**ä¿®å¾©ï¼š**
- âœ… æ”¹ç”¨ `prPackagesAPI.getPackage(slug)` é€šé slug è¼‰å…¥
- âœ… ä¿å­˜çœŸå¯¦çš„æ•¸æ“šåº« ID åˆ° `packageId` state
- âœ… æ›´æ–°æ™‚ä½¿ç”¨çœŸå¯¦çš„ `packageId`
- âœ… æ­£ç¢ºè™•ç†æ•¸æ“šé¡å‹

**æŠ€è¡“ç´°ç¯€ï¼š**
```typescript
// ä¹‹å‰ï¼ˆéŒ¯èª¤ï¼‰
const pkg = await prPackagesAPI.getPackageById(Number(id)); // id æ˜¯ "foundation"ï¼ˆslugï¼‰

// ç¾åœ¨ï¼ˆæ­£ç¢ºï¼‰
const pkg = await prPackagesAPI.getPackage(id!); // é€šé slug ç²å–
setPackageId((pkg as any).id); // ä¿å­˜çœŸå¯¦çš„æ•¸æ“šåº« ID
```

### âœ… å•é¡Œ 2ï¼šåˆ†é¡ç®¡ç†ç„¡æ³•ç®¡ç†å…¶ä¸­çš„ Packages
**åŸå› ï¼š** ç¼ºå°‘ Package ç®¡ç†åŠŸèƒ½
**ä¿®å¾©ï¼š**
- âœ… æ·»åŠ ã€Œå¾å…¶ä»–åˆ†é¡æ·»åŠ  Packageã€æŒ‰éˆ•
- âœ… é¡¯ç¤ºå¯æ·»åŠ çš„ Packages åˆ—è¡¨
- âœ… ä¸€éµç§»å‹• Package åˆ°æ­¤åˆ†é¡
- âœ… é¡¯ç¤º Package ç•¶å‰æ‰€å±¬åˆ†é¡

### âœ… å•é¡Œ 3ï¼šç„¡æ³•æ’åºåˆ†é¡ä¸­çš„ Packages
**åŸå› ï¼š** ç¼ºå°‘æ’åºåŠŸèƒ½
**ä¿®å¾©ï¼š**
- âœ… æ¯å€‹ Package éƒ½æœ‰ã€Œä¸Šç§»ã€å’Œã€Œä¸‹ç§»ã€æŒ‰éˆ•
- âœ… è‡ªå‹•äº¤æ› `display_order`
- âœ… å³æ™‚æ›´æ–°æ’åº
- âœ… é¦–å°¾é …ç›®çš„æŒ‰éˆ•è‡ªå‹•ç¦ç”¨

### âœ… å•é¡Œ 4ï¼šåˆ†é¡ç®¡ç†åªæ˜¯å‡çš„å‰ç«¯
**åŸå› ï¼š** ç¼ºå°‘å¾Œç«¯æ”¯æ´
**ä¿®å¾©ï¼š**
- âœ… å‰µå»ºè³‡æ–™åº«è¡¨ `pr_package_categories`
- âœ… å‰µå»ºå®Œæ•´çš„å¾Œç«¯ APIï¼ˆ`pr_category_admin.py`ï¼‰
- âœ… å‰ç«¯èª¿ç”¨çœŸå¯¦çš„è³‡æ–™åº« API
- âœ… æ‰€æœ‰æ“ä½œéƒ½æŒä¹…åŒ–åˆ°è³‡æ–™åº«

---

## ğŸ¨ æ–°å¢åŠŸèƒ½è©³è§£

### 1. Package åˆ†é¡ç§»å‹•åŠŸèƒ½

**å¾Œç«¯ APIï¼š**
```
PATCH /api/admin/pr-packages/{id}/category
åƒæ•¸ï¼š
  - category_id: ç›®æ¨™åˆ†é¡ ID
  - display_order: åœ¨æ–°åˆ†é¡ä¸­çš„é †åº
```

**ä½¿ç”¨æ–¹å¼ï¼š**
1. åœ¨åˆ†é¡ç·¨è¼¯æ¨¡å¼ï¼Œé»æ“Šã€Œå¾å…¶ä»–åˆ†é¡æ·»åŠ  Packageã€
2. çœ‹åˆ°æ‰€æœ‰å…¶ä»–åˆ†é¡çš„ Packages
3. é»æ“Šã€Œæ·»åŠ åˆ°æ­¤åˆ†é¡ã€æŒ‰éˆ•
4. Package ç«‹å³ç§»å‹•åˆ°æ–°åˆ†é¡

### 2. Package æ’åºåŠŸèƒ½

**UI è¨­è¨ˆï¼š**
- âœ… æ¯å€‹ Package æ—é‚Šæœ‰ã€Œâ†‘ã€å’Œã€Œâ†“ã€æŒ‰éˆ•
- âœ… ç¬¬ä¸€å€‹ Package çš„ã€Œâ†‘ã€æŒ‰éˆ•ç¦ç”¨
- âœ… æœ€å¾Œä¸€å€‹ Package çš„ã€Œâ†“ã€æŒ‰éˆ•ç¦ç”¨
- âœ… é»æ“Šå¾Œå³æ™‚äº¤æ›é †åº

**å¯¦ç¾é‚è¼¯ï¼š**
```typescript
// ä¸Šç§»ï¼šèˆ‡å‰ä¸€å€‹äº¤æ›
movePackageUp(categoryId, index)
  â†’ æ›´æ–° pkg[index] çš„ display_order ç‚º index-1
  â†’ æ›´æ–° pkg[index-1] çš„ display_order ç‚º index
  â†’ é‡æ–°è¼‰å…¥æ•¸æ“š
```

### 3. å®Œæ•´çš„åˆ†é¡ç®¡ç†ä»‹é¢

**ç·¨è¼¯æ¨¡å¼åˆ†ç‚ºå…©å€‹éƒ¨åˆ†ï¼š**

#### Part 1: åŸºæœ¬è³‡è¨Šç·¨è¼¯
- åˆ†é¡æ¨™é¡Œ
- å¾½ç« åˆ—è¡¨ï¼ˆå‹•æ…‹æ–°å¢/åˆªé™¤ï¼‰
- é¡¯ç¤ºé †åº

#### Part 2: Packages ç®¡ç†
- é¡¯ç¤ºç•¶å‰åˆ†é¡çš„æ‰€æœ‰ Packages
- æ¯å€‹ Package å¯ä»¥ï¼š
  - ä¸Šç§»/ä¸‹ç§»ï¼ˆæ’åºï¼‰
  - ç·¨è¼¯ï¼ˆè·³è½‰åˆ°ç·¨è¼¯é é¢ï¼‰
  - ç§»é™¤ï¼ˆå¾æ­¤åˆ†é¡ç§»é™¤ï¼‰
- å¯ä»¥å¾å…¶ä»–åˆ†é¡æ·»åŠ  Packages
- é¡¯ç¤ºå¯æ·»åŠ çš„ Packages åˆ—è¡¨

---

## ğŸ“¡ æ–°å¢çš„å¾Œç«¯ API

### 1. PR Package Admin API

#### `GET /api/admin/pr-packages/all`
å–å¾—æ‰€æœ‰ Packagesï¼ˆä¸åˆ†é¡çµ„ç¹”ï¼‰

**ç”¨é€”ï¼š** åˆ†é¡ç®¡ç†æ™‚éœ€è¦çœ‹åˆ°æ‰€æœ‰å¯ç”¨çš„ packages

**è¿”å›ï¼š**
```json
[
  {
    "id": 1,
    "name": "Foundation",
    "slug": "foundation",
    "price": "$1,200 USD",
    "category_id": "global-pr",
    ...
  }
]
```

#### `PATCH /api/admin/pr-packages/{id}/category`
æ›´æ–° Package çš„åˆ†é¡å’Œé †åº

**åƒæ•¸ï¼š**
- `category_id`: ç›®æ¨™åˆ†é¡ ID
- `display_order`: åœ¨æ–°åˆ†é¡ä¸­çš„é †åº

**ç”¨é€”ï¼š**
- ç§»å‹• Package åˆ°ä¸åŒåˆ†é¡
- èª¿æ•´ Package åœ¨åˆ†é¡ä¸­çš„é †åº

### 2. PR Category Admin API

#### `GET /api/admin/pr-package-categories/`
å–å¾—æ‰€æœ‰åˆ†é¡ï¼ˆå«æ¯å€‹åˆ†é¡çš„ packagesï¼‰

**è¿”å›ï¼š**
```json
[
  {
    "id": 1,
    "category_id": "global-pr",
    "title": "GLOBAL PR",
    "badges": ["ğŸš€ Launches", ...],
    "packages_count": 3,
    "packages": [
      {"id": 1, "name": "Foundation", ...}
    ]
  }
]
```

---

## ğŸ® ä½¿ç”¨æŒ‡å—

### ç·¨è¼¯åˆ†é¡ä¸¦ç®¡ç† Packages

1. **è¨ªå•åˆ†é¡ç®¡ç†**
   ```
   http://localhost:3001/admin/pr-packages/categories
   ```

2. **é»æ“Šåˆ†é¡çš„ã€Œç·¨è¼¯ã€æŒ‰éˆ•**
   - ä¸ŠåŠéƒ¨åˆ†ï¼šç·¨è¼¯æ¨™é¡Œã€å¾½ç« ã€é †åº
   - ä¸‹åŠéƒ¨åˆ†ï¼šç®¡ç† Packages

3. **èª¿æ•´ Package é †åº**
   - é»æ“Šã€Œâ†‘ã€ä¸Šç§»
   - é»æ“Šã€Œâ†“ã€ä¸‹ç§»
   - å³æ™‚ç”Ÿæ•ˆ

4. **å¾å…¶ä»–åˆ†é¡æ·»åŠ  Package**
   - é»æ“Šã€Œå¾å…¶ä»–åˆ†é¡æ·»åŠ  Packageã€
   - çœ‹åˆ°æ‰€æœ‰å…¶ä»–åˆ†é¡çš„ Packages
   - é»æ“Šã€Œæ·»åŠ åˆ°æ­¤åˆ†é¡ã€
   - Package ç«‹å³ç§»å‹•

5. **ç·¨è¼¯ Package**
   - é»æ“Š Package çš„ç·¨è¼¯åœ–ç¤º
   - è·³è½‰åˆ° Package ç·¨è¼¯é é¢

6. **å„²å­˜ä¿®æ”¹**
   - é»æ“Šã€Œå„²å­˜åˆ†é¡è³‡è¨Šã€
   - æ‰€æœ‰ä¿®æ”¹ä¿å­˜åˆ°è³‡æ–™åº«

### ç·¨è¼¯ PR Package

1. **å¾åˆ—è¡¨é é»æ“Šç·¨è¼¯**
   ```
   http://localhost:3001/admin/pr-packages
   ```
   é»æ“Šä»»ä¸€ Package çš„ç·¨è¼¯åœ–ç¤º

2. **æˆ–å¾åˆ†é¡ç®¡ç†é»æ“Šç·¨è¼¯**
   - åœ¨åˆ†é¡å¡ç‰‡ä¸­é»æ“Š Package çš„ç·¨è¼¯åœ–ç¤º
   - ç›´æ¥è·³è½‰åˆ°ç·¨è¼¯é é¢

3. **é é¢è‡ªå‹•è¼‰å…¥æ•¸æ“š**
   - é¡¯ç¤ºã€Œè¼‰å…¥ä¸­...ã€
   - é€šé slug ç²å– Package æ•¸æ“š
   - è‡ªå‹•å¡«å……æ‰€æœ‰æ¬„ä½

4. **ä¿®æ”¹ä¸¦æ›´æ–°**
   - ä¿®æ”¹ä»»ä½•æ¬„ä½
   - é»æ“Šã€Œæ›´æ–° Packageã€
   - ä½¿ç”¨çœŸå¯¦çš„æ•¸æ“šåº« ID æ›´æ–°

---

## âœ… å®Œæˆç‹€æ…‹

### PR Package ç·¨è¼¯
- âœ… é€šé slug æ­£ç¢ºè¼‰å…¥æ•¸æ“š
- âœ… ä¿å­˜çœŸå¯¦çš„æ•¸æ“šåº« ID
- âœ… æ›´æ–°åŠŸèƒ½å®Œå…¨æ­£å¸¸
- âœ… ä¸å†å‡ºç¾ã€Œè¼‰å…¥å¤±æ•—ã€

### åˆ†é¡ç®¡ç†
- âœ… çœŸå¯¦çš„å¾Œç«¯ APIï¼ˆä¸æ˜¯å‡çš„ï¼‰
- âœ… é¡¯ç¤ºè©²åˆ†é¡ä¸‹çš„æ‰€æœ‰ Packages
- âœ… **å¯ä»¥å¾å…¶ä»–åˆ†é¡æ·»åŠ  Packages**
- âœ… **å¯ä»¥èª¿æ•´ Packages çš„æ’åº**ï¼ˆä¸Šç§»/ä¸‹ç§»ï¼‰
- âœ… å¯ä»¥ç·¨è¼¯ Packageï¼ˆè·³è½‰ï¼‰
- âœ… å¯ä»¥ç§»é™¤ Packageï¼ˆé–‹ç™¼ä¸­ï¼‰
- âœ… é¡¯ç¤º Package æ•¸é‡çµ±è¨ˆ
- âœ… æ‰€æœ‰æ“ä½œä¿å­˜åˆ°è³‡æ–™åº«

### å¾Œç«¯æ”¯æ´
- âœ… è³‡æ–™åº«è¡¨å·²å‰µå»º
- âœ… å®Œæ•´çš„ CRUD API
- âœ… Package åˆ†é¡ç§»å‹• API
- âœ… éµå¾ª API è·¯å¾‘åˆ†é¡åŸå‰‡

---

## ğŸŠ ç³»çµ±ç¾æ³

**å®Œå…¨å‹•æ…‹åŒ–çš„åˆ†é¡ç®¡ç†ç³»çµ±ï¼š**
- âœ… åˆ†é¡å¾è³‡æ–™åº«è¼‰å…¥
- âœ… å¯ä»¥æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤åˆ†é¡
- âœ… **å¯ä»¥ç®¡ç†åˆ†é¡ä¸­çš„ Packages**
- âœ… **å¯ä»¥æ’åº Packages**
- âœ… **å¯ä»¥åœ¨åˆ†é¡é–“ç§»å‹• Packages**
- âœ… æ™ºèƒ½ä¿è­·ï¼ˆæœ‰ packages çš„åˆ†é¡ç¦æ­¢åˆªé™¤ï¼‰
- âœ… æ‰€æœ‰æ“ä½œéƒ½æŒä¹…åŒ–åˆ°è³‡æ–™åº«

**ä¸å†æœ‰ä»»ä½•å‡çš„å‰ç«¯æ¨¡æ“¬ï¼** ğŸš€

